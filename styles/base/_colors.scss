@use "sass:color";
@use "sass:map";

$base: (
    "black": #222222,
    "danger": #b22222,
    "emphasis": #ef233c,
    "info": #7096c2,
    "primary": #2b2d42,
    "secondary": #8d99ae,
    "success": #66b367,
    "tertiary": #edf2f4,
    "warning": #e6d80f,
    "white": #ffffff,
);

// https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix
// $test-90: color.adjust($test-300, $alpha: 0.9);
// $test-80: color-mix(in srgb, $test-300, #ffffff 80%);
$body: #edeef1;
$border: #d0d5dd;
$color: (
    "black": (
        "100": (
            "background": color.mix(white, map.get($base, "black"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "black"), $weight: 45%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "black"), $weight: 30%),
            "color": map.get($base, "white"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "black"), $weight: 15%),
            "color": map.get($base, "white"),
        ),
        "500": (
            "background": map.get($base, "black"),
            "color": map.get($base, "white"),
        ),
    ),
    "danger": (
        "100": (
            "background": color.mix(white, map.get($base, "danger"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "danger"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "danger"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "danger"), $weight: 20%),
            "color": map.get($base, "white"),
        ),
        "500": (
            "background": map.get($base, "danger"),
            "color": map.get($base, "white"),
        ),
    ),
    "emphasis": (
        "100": (
            "background": color.mix(white, map.get($base, "emphasis"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "emphasis"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "emphasis"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "emphasis"), $weight: 20%),
            "color": map.get($base, "black"),
        ),
        "500": (
            "background": map.get($base, "emphasis"),
            "color": map.get($base, "white"),
        ),
    ),
    "info": (
        "100": (
            "background": color.mix(white, map.get($base, "info"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "info"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "info"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "info"), $weight: 20%),
            "color": map.get($base, "black"),
        ),
        "500": (
            "background": map.get($base, "info"),
            "color": map.get($base, "black"),
        ),
    ),
    "primary": (
        "100": (
            "background": color.mix(white, map.get($base, "primary"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "primary"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "primary"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "primary"), $weight: 20%),
            "color": map.get($base, "white"),
        ),
        "500": (
            "background": map.get($base, "primary"),
            "color": map.get($base, "white"),
        ),
    ),
    "secondary": (
        "100": (
            "background": color.mix(white, map.get($base, "secondary"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "secondary"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "secondary"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "secondary"), $weight: 20%),
            "color": map.get($base, "black"),
        ),
        "500": (
            "background": map.get($base, "secondary"),
            "color": map.get($base, "black"),
        ),
    ),
    "success": (
        "100": (
            "background": color.mix(white, map.get($base, "success"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "success"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "success"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "success"), $weight: 20%),
            "color": map.get($base, "black"),
        ),
        "500": (
            "background": map.get($base, "success"),
            "color": map.get($base, "black"),
        ),
    ),
    "tertiary": (
        "100": (
            "background": color.mix(white, map.get($base, "tertiary"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "tertiary"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "tertiary"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "tertiary"), $weight: 20%),
            "color": map.get($base, "black"),
        ),
        "500": (
            "background": map.get($base, "tertiary"),
            "color": map.get($base, "black"),
        ),
    ),
    "warning": (
        "100": (
            "background": color.mix(white, map.get($base, "warning"), $weight: 80%),
            "color": map.get($base, "black"),
        ),
        "200": (
            "background": color.mix(white, map.get($base, "warning"), $weight: 60%),
            "color": map.get($base, "black"),
        ),
        "300": (
            "background": color.mix(white, map.get($base, "warning"), $weight: 40%),
            "color": map.get($base, "black"),
        ),
        "400": (
            "background": color.mix(white, map.get($base, "warning"), $weight: 20%),
            "color": map.get($base, "black"),
        ),
        "500": (
            "background": map.get($base, "warning"),
            "color": map.get($base, "black"),
        ),
    ),
);

@mixin color($category, $level) {
    background-color: map.get($color, $category, $level, "background");
    color: map.get($color, $category, $level, "color");
}

/* stylelint-disable scss/comment-no-empty */
@each $category, $value in $color {
    $levels: map.keys($value);

    @each $level in $levels {
        $b: map.get($color, $category, $level, "background");
        $c: map.get($color, $category, $level, "color");

        @debug "CATEGORY: #{$category}; BACKGROUND: #{$b}; COLOR: #{$c}";
    }
}
/* stylelint-enable scss/comment-no-empty */

@each $category, $value in $color {
    $levels: map.keys($value);

    @each $level in $levels {
        $b: map.get($color, $category, $level, "background");
        $c: map.get($color, $category, $level, "color");

        // .danger-100
        .#{$category}-#{$level} {
            background-color: $b;
            color: $c;
        }

        // .bg-danger-100
        .bg-#{$category}-#{$level} {
            background-color: $b;
        }

        // .color-danger-100
        .color-#{$category}-#{$level} {
            color: $c;
        }
    }
}
